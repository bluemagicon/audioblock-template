{% sw_extends '@Storefront/storefront/page/checkout/confirm/confirm-payment.html.twig' %}

{% block page_checkout_confirm_payment_current %}
    <p class="confirm-payment-current">

        {% block page_checkout_confirm_payment_current_text %}
            <strong>{{ "checkout.confirmCurrentPaymentShipping"|trans|sw_sanitize }}</strong>

            {# @deprecated tag:v6.4.0 will be removed in version 6.4.0 #}
            {% block page_checkout_confirm_payment_invalid_tooltip %}{% endblock %}

            {% if paymentMethodInvalid %}
                {{ "checkout.confirmSelectionNone"|trans|sw_sanitize }}
            {% else %}
                {{ context.paymentMethod.translated.name }}
            {% endif %}

            {% block page_checkout_confirm_payment_current_image %}
                {% if context.paymentMethod.media %}
                    {% sw_thumbnails 'confirm-payment-current-image-thumbnails' with {
                        media: context.paymentMethod.media,
                        sizes: {
                            'default': '100px'
                        },
                        attributes: {
                            'class': 'payment-method-image',
                            'alt': (context.paymentMethod.media.translated.alt ?: context.paymentMethod.translated.name),
                            'title': (context.paymentMethod.media.translated.title ?: context.paymentMethod.translated.name)
                        }
                    } %}
                {% endif %}
            {% endblock %}

        {% endblock %}
    </p>
{% endblock %}

{% block page_checkout_confirm_payment_modal_toggle %}
    <button type="button"
            class="btn btn-primary"
            data-toggle="modal"
            data-backdrop="static"
        {% if page.paymentChangeable is not null and page.paymentChangeable == false %}
            disabled="disabled"
        {% endif %}
            data-target="#confirmPaymentModal">

        {% if paymentMethodInvalid %}
            {{ "checkout.confirmChoosePayment"|trans|sw_sanitize }}
        {% else %}
            {{ "checkout.confirmChangePayment"|trans|sw_sanitize }}
        {% endif %}
    </button>
{% endblock %}
